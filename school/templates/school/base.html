<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المدرسة الغمارية</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Amiri & Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Cairo:wght@300;400;600;700;900&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'royal-black': '#121212',
                        'matte-gold': '#C5A059',
                        'light-gold': '#E5C789',
                        'dark-black': '#0a0a0a',
                    },
                    fontFamily: {
                        'amiri': ['Amiri', 'serif'],
                        'cairo': ['Cairo', 'sans-serif'],
                    },
                    boxShadow: {
                        'gold-glow': '0 0 15px rgba(197, 160, 89, 0.3)',
                        'gold-glow-hover': '0 0 25px rgba(229, 199, 137, 0.5)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            background-image: linear-gradient(to bottom, #121212, #1a1a1a);
            color: #ecf0f1;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .font-heading {
            font-family: 'Cairo', sans-serif;
        }
    </style>
</head>

<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav
        class="bg-royal-black/95 backdrop-blur-sm border-b border-white/5 sticky top-0 z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24">
                <div class="flex items-center">
                    <a href="{% url 'home' %}" class="flex-shrink-0 flex items-center gap-4 group">
                        <!-- Logo -->
                        {% load static %}
                        <div
                            class="relative w-16 h-16 rounded-full overflow-hidden border-2 border-matte-gold shadow-gold-glow group-hover:shadow-gold-glow-hover transition-all duration-300">
                            <img src="{% static 'school/img/logo.jpg' %}" alt="شعار المدرسة الغمارية"
                                class="w-full h-full object-cover">
                        </div>
                        <div class="flex flex-col">
                            <span
                                class="font-heading font-bold text-2xl text-matte-gold tracking-wide group-hover:text-light-gold transition-colors">المدرسة
                                الغمارية</span>
                            <span class="text-xs text-gray-400 font-light tracking-wider">لإحياء العلوم</span>
                        </div>
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex md:items-center md:gap-1">
                    <a href="{% url 'books_list' %}"
                        class="font-heading text-gray-300 hover:text-matte-gold px-4 py-2 text-lg font-medium transition-all duration-300 hover:bg-white/5 rounded-lg">الكتب</a>
                    <a href="{% url 'lessons_list' %}"
                        class="font-heading text-gray-300 hover:text-matte-gold px-4 py-2 text-lg font-medium transition-all duration-300 hover:bg-white/5 rounded-lg">الدروس</a>
                    <a href="{% url 'about' %}"
                        class="font-heading text-gray-300 hover:text-matte-gold px-4 py-2 text-lg font-medium transition-all duration-300 hover:bg-white/5 rounded-lg">عن
                        المدرسة</a>

                    <!-- Language Switcher -->
                    {% load i18n %}
                    {% get_current_language as current_lang %}
                    <div class="relative group mr-4 z-50">
                        <button
                            class="flex items-center gap-2 px-4 py-2 text-matte-gold border border-matte-gold/30 rounded-lg hover:bg-matte-gold/10 transition-all">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                            </svg>
                            <span class="text-sm font-cairo">{{ current_lang|upper }}</span>
                        </button>
                        <div
                            class="absolute left-0 mt-2 w-40 bg-dark-black border border-matte-gold/30 rounded-lg shadow-gold-glow opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                            <form action="/i18n/setlang/" method="post" class="p-1">
                                {% csrf_token %}
                                <input name="next" type="hidden" value="{{ request.path }}">
                                <button type="submit" name="language" value="ar"
                                    class="w-full text-right px-4 py-2 text-gray-300 hover:bg-matte-gold/10 hover:text-matte-gold rounded transition-colors">العربية</button>
                                <button type="submit" name="language" value="fr"
                                    class="w-full text-right px-4 py-2 text-gray-300 hover:bg-matte-gold/10 hover:text-matte-gold rounded transition-colors">Français</button>
                                <button type="submit" name="language" value="en"
                                    class="w-full text-right px-4 py-2 text-gray-300 hover:bg-matte-gold/10 hover:text-matte-gold rounded transition-colors">English</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <div class="flex items-center md:hidden">
                    <button id="mobile-menu-btn" class="text-matte-gold hover:text-light-gold p-2">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-white/5 bg-royal-black/95 backdrop-blur-sm">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="{% url 'books_list' %}"
                    class="font-heading block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-matte-gold hover:bg-matte-gold/10">الكتب</a>
                <a href="{% url 'lessons_list' %}"
                    class="font-heading block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-matte-gold hover:bg-matte-gold/10">الدروس</a>
                <a href="{% url 'about' %}"
                    class="font-heading block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-matte-gold hover:bg-matte-gold/10">عن
                    المدرسة</a>

                <!-- Mobile Language Switcher -->
                <div class="border-t border-white/10 mt-4 pt-4 px-3">
                    <p class="text-sm text-gray-500 mb-2 font-cairo">اللغة</p>
                    <div class="flex gap-4">
                        <form action="/i18n/setlang/" method="post" class="flex gap-2">
                            {% csrf_token %}
                            <input name="next" type="hidden" value="{{ request.path }}">
                            <button type="submit" name="language" value="ar"
                                class="text-matte-gold hover:text-light-gold font-bold">AR</button>
                            <span class="text-gray-600">|</span>
                            <button type="submit" name="language" value="fr"
                                class="text-gray-400 hover:text-light-gold font-bold">FR</button>
                            <span class="text-gray-600">|</span>
                            <button type="submit" name="language" value="en"
                                class="text-gray-400 hover:text-light-gold font-bold">EN</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-black border-t border-matte-gold/20 text-gray-400 py-12 mt-20">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="mb-6 flex justify-center">
                <div
                    class="w-12 h-12 rounded-full border border-matte-gold/30 flex items-center justify-center text-matte-gold font-bold text-xl opacity-50">
                    غ</div>
            </div>
            <p class="text-lg font-light mb-2">© {% now "Y" %} المدرسة الغمارية لإحياء العلوم.</p>
            <p class="text-sm opacity-60">جميع الحقوق محفوظة.</p>
        </div>
    </footer>

    <script>
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        if (btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });
        }
    </script>
</body>

</html>